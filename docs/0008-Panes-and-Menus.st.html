<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <title>Smalltalk76/Panes-and-Menus.st</title>
	<link rel="stylesheet" type="text/css" href="font.css"/>
  </head>
  <body>
    <div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">&rsquo;From Smalltalk 5.5k XM November 24 on 22 November 1980 at 2:57:08 am.&rsquo;<br></span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold">"CodePane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;CodePane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: Window<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;pared class selector selectorPane scrollBar&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;editmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a Window for editing a paragraph which may include Smalltalk source code.  My selectorPane (not necessarily of class SelectorPane, and possibly even myself) compiles and doits for me.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">class: class selector: selector para: para</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[editmenu &larr; Menu new string:<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">&rsquo;again<br>copy<br>cut<br>paste<br>doit<br>compile<br>undo<br>cancel<br>align&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">from: selectorPane</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">init</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">showing: paragraph<br></span><span class="tab" val="79"></span><span class="small">[pared &larr; ParagraphEditor new para: paragraph asParagraph frame: nil.<br></span><span class="tab" val="79"></span><span class="small">pared formerly: false; fixframe: frame.<br></span><span class="tab" val="79"></span><span class="small">self windowenter.<br></span><span class="tab" val="79"></span><span class="small">scrollBar &larr; ([scrollBar≡nil⇒ [ScrollBar new] scrollBar]) on: frame from: pared]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close<br></span><span class="tab" val="79"></span><span class="small">[pared unselect. selectorPane &larr; pared &larr; nil. scrollBar close]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">doit </span><span class="small">| s val d [<br></span><span class="tab" val="79"></span><span class="small">d &larr; [user leftShiftKey⇒ [mem◦067] false].<br></span><span class="tab" val="79"></span><span class="small">[d⇒ [mem◦067 &larr; 58]].<br></span><span class="tab" val="79"></span><span class="small">scrollBar hide.<br><br></span><span class="tab" val="79"></span><span class="small">"</span><span class="small italic">do automatic selection (ESC) on empty selections</span><span class="small">"<br></span><span class="tab" val="79"></span><span class="small">[(s &larr; pared selectRange) empty⇒ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">pared unselect; fintype; complement.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">s &larr; pared selectRange]].<br><br></span><span class="tab" val="79"></span><span class="small">val &larr; selectorPane execute: pared selectionAsStream for: self. <br></span><span class="tab" val="79"></span><span class="small">[val≡nil or⦂ s ≠ pared selectRange⇒ ["</span><span class="small italic">result is nil or error occurred</span><span class="small">"]<br></span><span class="tab" val="79"></span><span class="small">"</span><span class="small italic">automatically paste result</span><span class="small">"<br></span><span class="tab" val="79"></span><span class="small">s&larr; s stop+1.<br></span><span class="tab" val="79"></span><span class="small">pared Scrap &larr; [(String new: 100) asStream<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">space; print: val; contents asParagraph];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">selectRange: (s to: s); paste].<br><br></span><span class="tab" val="79"></span><span class="small">scrollBar show.<br></span><span class="tab" val="79"></span><span class="small">d⇒ [mem◦067 &larr; d]<br>]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">eachtime </span><span class="small">[<br></span><span class="tab" val="79"></span><span class="small">user kbck⇒ [⇑self kbd]<br></span><span class="tab" val="79"></span><span class="small">frame has: user mp⇒ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user anybug⇒ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user redbug⇒ [⇑self redbug]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user yellowbug⇒ [⇑self yellowbug]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user bluebug⇒ [⇑false]]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user anykeys⇒ [⇑self keyset]]<br></span><span class="tab" val="79"></span><span class="small">⇑self outside]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">enter<br></span><span class="tab" val="79"></span><span class="small">[scrollBar show]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">frame &larr; frame<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"Change my frame and that of my pared (if any)."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">pared≡nil⇒ [] pared frame &larr; frame.<br></span><span class="tab" val="79"></span><span class="small">scrollBar on: frame from: pared]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">hardcopy: pf </span><span class="small">[<br></span><span class="tab" val="79"></span><span class="small">"if this is just part of a CodeWindow, then print entire Paragraph with no frame.<br></span><span class="tab" val="79"></span><span class="small">unfortunately, the test for this is a kludge. otherwise, print clipped"<br><br></span><span class="tab" val="79"></span><span class="small">selectorPane ≡ self⇒ [(PressPrinter init) press: pf; print: pared contents]<br></span><span class="tab" val="79"></span><span class="small">frame hardcopy: pf thickness: 1.<br></span><span class="tab" val="79"></span><span class="small">pared hardcopy: pf]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">kbd<br></span><span class="tab" val="79"></span><span class="small">[pared typing]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">keyset<br></span><span class="tab" val="79"></span><span class="small">[⇑pared keyset]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">leave<br></span><span class="tab" val="79"></span><span class="small">[scrollBar hide]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">outline<br></span><span class="tab" val="79"></span><span class="small">[frame outline: 1]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">outside<br></span><span class="tab" val="79"></span><span class="small">[⇑scrollBar startup]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">picked<br></span><span class="tab" val="79"></span><span class="small">[⇑frame has: user mp]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">redbug<br></span><span class="tab" val="79"></span><span class="small">[⇑pared selecting]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">show<br></span><span class="tab" val="79"></span><span class="small">[frame outline. pared show]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">windowenter<br></span><span class="tab" val="79"></span><span class="small">[self outline. pared enter]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">windowleave<br></span><span class="tab" val="79"></span><span class="small">[pared≡nil⇒[] pared leave]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[editmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=5⇒[self doit];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒[scrollBar hidewhile⦂ [pared again]];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒[pared copy];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=3⇒[pared cut];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=4⇒[pared paste];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=6⇒[pared formerly⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[scrollBar hidewhile⦂ [selectorPane compile: pared contents⇒ [pared formerly: false]]]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">  frame flash];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=7⇒[pared undo];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=8⇒[pared formerly⇒ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">pared Deletion &larr; pared contents.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">scrollBar hidewhile⦂ [self showing: pared formerly]] frame flash];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=9⇒[pared realign]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Browse/Notify protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag</span><span class="tab" val="79"></span><span class="small italic">"as my own selectorPane"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[⇑self compile: parag in: class under: &rsquo;As yet unclassified&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag in: defaultClass under: category<br></span><span class="tab" val="79"></span><span class="small">[⇑Generator new<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">compile: parag<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">in: [class≡nil⇒ [defaultClass] class]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">under: category<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">notifying: self]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">contents<br></span><span class="tab" val="79"></span><span class="small">[⇑pared contents]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty<br></span><span class="tab" val="79"></span><span class="small">[pared formerly⇒ [⇑frame] ⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">execute: parseStream for: codePane</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"as my own selectorPane"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[⇑self execute: parseStream in: false to: nil]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">execute: parseStream in: context to: receiver<br></span><span class="tab" val="79"></span><span class="small">[⇑Generator new evaluate: parseStream in: context to: receiver notifying: self]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">formerly: oldpara </span><span class="tab" val="79"></span><span class="small italic">"should not be called before &rsquo;showing:&rsquo;"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[pared formerly: oldpara]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">interactive<br></span><span class="tab" val="79"></span><span class="small">[⇑true]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">notify: errorString at: position in: stream<br></span><span class="tab" val="79"></span><span class="small">[pared<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">fintype;<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">selectRange: (position to: position);<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">replace: (&rsquo;➲&rsquo; + errorString + &rsquo;➲.&rsquo;) asParagraph;<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">selectAndScroll.<br></span><span class="tab" val="79"></span><span class="small">⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">oldContents<br></span><span class="tab" val="79"></span><span class="small">[⇑pared formerly]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">reflects: selection  </span><span class="small italic">"am I trying to show the code of selectorPaneⓢ selection?"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[⇑class≡nil and⦂ selection&gt;0]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selectRange: r </span><span class="small">[pared selectRange: r; selectAndScroll]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪CodePane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">CodePane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"FilePane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;FilePane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: CodePane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;file&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;editmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>This class has not yet been commented</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>As yet unclassified</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit </span><span class="small">"FilePane classInit."</span><span class="small bold"><br></span><span class="tab" val="79"></span><span class="small">[editmenu &larr; Menu new string:<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">&rsquo;again<br>copy<br>cut<br>paste<br>doit<br>put<br>undo<br>get<br>align&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">file: file</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[editmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒[pared again];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒[pared copy];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=3⇒[pared cut];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=4⇒[pared paste];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=5⇒[self doit];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=6⇒[pared formerly⇒ [user displayoffwhile⦂ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">file readwriteshorten; reset; append: pared contents; close.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">pared formerly: false]]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">frame flash];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=7⇒[pared undo];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=8⇒[user displayoffwhile⦂ [scrollBar hidewhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[self showing: file contents asParagraph]]];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=9⇒[pared realign]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪FilePane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">FilePane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"ListPane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;ListPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: Textframe<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;list firstShown lastShown selection scrollBar&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;&rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>A list pane displays a vertical list of one-line items.  The list can be scrolled slow or fast, and any item can be selected.  When an item is selected (or deselected), a dependent pane can be told to display appropriate material.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">of: list </span><span class="small">"Acquire the specified list and show me scrolled to the top"<br></span><span class="tab" val="79"></span><span class="small">[firstShown&larr; selection&larr; 0.<br></span><span class="tab" val="79"></span><span class="small">self frame&larr; window.<br></span><span class="tab" val="79"></span><span class="small">self fill; deselected]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">revise: newlist with: sel  </span><span class="small">| changing<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"Acquire newlist. Do not change firstShown. Select sel if in list."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[changing &larr; list≠newlist⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[list &larr; newlist.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">firstShown &larr; firstShown min: (<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">list length+2  - (window height-4/self lineheight) max: 0).<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[nil ≠ para⇒ [para &larr; para asStream]].<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">self fill]<br></span><span class="tab" val="79"></span><span class="small"> selection&gt;0⇒ [changing &larr; list◦selection≠sel⇒ [self compselection]]<br></span><span class="tab" val="79"></span><span class="small"> changing &larr; true].<br></span><span class="tab" val="79"></span><span class="small">changing⇒ [selection &larr; ¬1. self select: (list find: sel)]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">select: lineNum </span><span class="small">| oldSel<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"Select my non-dummy displayed entry whose subscript is lineNum; highlight it; if it is different from selection, tell me to select.  If there is no such entry, set selection to 0 and if it wasnt 0 before, tell me to deselect."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">oldSel &larr; selection.<br></span><span class="tab" val="79"></span><span class="small">(1 max: firstShown) ≤ lineNum and⦂ lineNum ≤ (list length min: lastShown)⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[selection &larr; lineNum. self compselection. oldSel≠selection⇒ [self selected]]<br></span><span class="tab" val="79"></span><span class="small">selection &larr; 0. oldSel≠selection⇒ [self deselected]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Pane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close</span><span class="small bold italic"> </span><span class="small italic">"Zero my selection so it wont be grayed when I close.  Break cycles."</span><span class="small bold"><br></span><span class="tab" val="79"></span><span class="small">[selection&larr;0. scrollBar close]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">eachtime<br></span><span class="tab" val="79"></span><span class="small">[window has: user mp⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user kbck⇒[⇑self kbd]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user anybug⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user redbug⇒[⇑self redbug]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user yellowbug⇒[⇑self yellowbug]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user bluebug⇒[⇑false]]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user anykeys⇒[⇑self keyset]]<br></span><span class="tab" val="79"></span><span class="small">⇑self outside]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">enter<br></span><span class="tab" val="79"></span><span class="small">[scrollBar show]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">firsttime<br></span><span class="tab" val="79"></span><span class="small">[window has: user mp⇒[self enter]<br></span><span class="tab" val="79"></span><span class="small">⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">frame &larr; window </span><span class="small italic">"(Re)initialize my window"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[para &larr; nil.<br></span><span class="tab" val="79"></span><span class="small">scrollBar &larr; ([scrollBar≡nil⇒ [ScrollBar new] scrollBar]) on: window from: self]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">hardcopy: pf </span><span class="small">| t cr first last lasty lineNum parag left right lineheight [<br></span><span class="tab" val="79"></span><span class="small">window hardcopy: pf thickness: 1.<br></span><span class="tab" val="79"></span><span class="small">[para≡nil⇒ [self makeParagraph]].<br></span><span class="tab" val="79"></span><span class="small">parag &larr; para asParagraph.<br><br></span><span class="tab" val="79"></span><span class="small">t &larr; para asStream.<br></span><span class="tab" val="79"></span><span class="small">last &larr; 0.<br></span><span class="tab" val="79"></span><span class="small">cr &larr; 015.<br></span><span class="tab" val="79"></span><span class="small">left &larr; frame minX.<br></span><span class="tab" val="79"></span><span class="small">right &larr; window maxX.<br></span><span class="tab" val="79"></span><span class="small">lasty &larr; frame minY.<br></span><span class="tab" val="79"></span><span class="small">lineheight &larr; self lineheight.<br><br></span><span class="tab" val="79"></span><span class="small">for⦂ lineNum from: firstShown to: lastShown do⦂ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">first &larr; last.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[(t skipTo: cr) or⦂ lineNum = lastShown⇒ [last &larr; t position]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user notify: &rsquo;not enough lines&rsquo;].<br><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[lineNum = selection and⦂ selection &gt; 0⇒ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">"outline selection; complementing doesn&rsquo;t look good"<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">(self selectionRect-(0⌾1) inset: 0⌾1) hardcopy: pf thickness: 1]].<br><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">(parag copy: first+1 to: last-1) presson: pf in:<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">(pf transrect: (left ⌾ lasty rect: right ⌾ (lasty+lineheight+4))) style: style.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">lasty &larr; lasty + lineheight.<br></span><span class="tab" val="79"></span><span class="small">]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">kbd<br></span><span class="tab" val="79"></span><span class="small">[window flash. user kbd.]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">keyset </span><span class="small">| c<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"As long as any keyset keys are down, react to keys 2 and 8 down by scrolling up or down a line at a time.  If key 4 is down as well, scroll faster."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">c &larr; user currentCursor.<br></span><span class="tab" val="79"></span><span class="small">self scrollControl⦂ [user keyset=6⇒[2]; =12⇒[¬2]; =2⇒[1]; =8⇒[¬1] 0].<br></span><span class="tab" val="79"></span><span class="small">c show]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">lasttime<br></span><span class="tab" val="79"></span><span class="small">[self leave]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">leave<br></span><span class="tab" val="79"></span><span class="small">[scrollBar hide]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">outline<br></span><span class="tab" val="79"></span><span class="small">[window outline: 1]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">outside </span><span class="small">[⇑scrollBar startup]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">picked<br></span><span class="tab" val="79"></span><span class="small">[⇑window has: user mp]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">redbug </span><span class="small">| newSel f</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"Deselect selection and select cursor item, if any"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[[f &larr; self locked⇒ []<br></span><span class="tab" val="79"></span><span class="small">self compselection.<br></span><span class="tab" val="79"></span><span class="small">newSel &larr; (user mp y - window origin y)/self lineheight + firstShown.<br></span><span class="tab" val="79"></span><span class="small">XeqCursor showwhile⦂ [self select: [newSel = selection⇒ [0] newSel]]].<br><br></span><span class="tab" val="79"></span><span class="small">while⦂ (user redbug and⦂ (window has: user mp)) do⦂ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">f⇒ [f flash. self compselection; compselection]]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">scrollPos<br></span><span class="tab" val="79"></span><span class="small">[firstShown≡nil or⦂ list length=0⇒[⇑0.0]<br></span><span class="tab" val="79"></span><span class="small">⇑firstShown asFloat/list length]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">scrollTo: f | t</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[self scrollControl⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[t&larr; (f*list length) asInteger - firstShown.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">t&lt;0⇒[firstShown&lt;0⇒[0] t]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">lastShown&gt;list length⇒[0] t]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">windowenter </span><span class="small italic">"Refresh my image.  Reaffirm selection."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[self outline; fill; select: selection.]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">windowleave<br></span><span class="tab" val="79"></span><span class="small">[self compselection; grayselection]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[window flash]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Subclass defaults</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected </span><span class="small italic">"I just lost my selection.  I dont care, but my subclasses might."</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty </span><span class="small italic">"My subclasses may want to prohibit a change of selection"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">locked </span><span class="small italic">"My subclasses may want to prohibit a change of selection"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[⇑[selection=0⇒ [false] self dirty]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected </span><span class="small italic">"A new selection is highlighted.  I dont care, but my subclasses might"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Private</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compselection </span><span class="small italic">"If I have a selection, complement its image."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[selection≠0⇒ [self selectionRect comp]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dummy<br></span><span class="tab" val="79"></span><span class="small">[⇑&rsquo;▱▱▱▱▱▱▱&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">fill </span><span class="small">[self makeParagraph; show]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">grayselection<br></span><span class="tab" val="79"></span><span class="small">[selection≠0⇒ [self selectionRect color: ltgray mode: oring]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">init<br></span><span class="tab" val="79"></span><span class="small">[self para: nil frame: nil.]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">makeParagraph </span><span class="small">| i len s lines </span><span class="small italic">"Given firstShown, compute lastShown."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[<br></span><span class="tab" val="79"></span><span class="small">len &larr; list length.<br></span><span class="tab" val="79"></span><span class="small">lastShown &larr; firstShown-1 + (lines &larr; window height-4/self lineheight)<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">min: 1+len.<br></span><span class="tab" val="79"></span><span class="small">[self locked⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[i &larr; (selection-lastShown max: 0) + (selection-firstShown min: 0).<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">i≠0⇒ [para&larr;nil. firstShown &larr; firstShown + i. lastShown &larr; lastShown + i]]].<br><br></span><span class="tab" val="79"></span><span class="small">(frame &larr; window inset: 2) width &larr; 999.<br></span><span class="tab" val="79"></span><span class="small">para is: String⇒ ["</span><span class="small italic">if para is a String, refresh from it directly</span><span class="small">"]<br></span><span class="tab" val="79"></span><span class="small italic">"otherwise compute para."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">s &larr; [para≡nil⇒ [(String new: 200) asStream] para].<br></span><span class="tab" val="79"></span><span class="small">for⦂ i from: firstShown to: lastShown do⦂ [<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[0&lt;i and⦂ i≤len⇒ [lines &larr; lines-1. (list◦i) printon: s]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">s append: self dummy].<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">s cr].<br></span><span class="tab" val="79"></span><span class="small">for⦂ i to: (lines+1 min: s limit - s position) do⦂ [s cr].<br></span><span class="tab" val="79"></span><span class="small">para &larr; s asArray]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">scrollBy⦂ expr copying: src into: dest showing: item in: frame direction: n<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">| strm final stop pt delay chars locked t<br></span><span class="tab" val="79"></span><span class="small">[strm &larr; Stream new. chars &larr; 2*frame width/self lineheight. para &larr; String new: chars.<br></span><span class="tab" val="79"></span><span class="small">pt &larr; dest origin. final &larr; [n&lt;0⇒ [0] list length+1].<br></span><span class="tab" val="79"></span><span class="small">stop &larr; [locked&larr;self locked⇒ [0 max: (list length+1 min: (lastShown - firstShown * n sign + selection))] final].<br></span><span class="tab" val="79"></span><span class="small">while⦂ item≠stop do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[firstShown &larr; firstShown + n. lastShown &larr; lastShown + n. item &larr; item + n.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">strm of: para from: 1 to: chars.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[item≠final⇒ [(list◦item) printon: strm] self dummy copyto: strm].<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">strm cr. src blt: pt mode: storing. self show.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">(t&larr; expr eval) abs ≤1⇒ [for⦂ delay to: chars/4 do⦂ [strm myend]. para &larr; nil. ⇑self]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">t*n&lt;0⇒[⇑self]].<br></span><span class="tab" val="79"></span><span class="small">para &larr; nil. locked and: stop≠final⇒ [locked flash. ⇑false]]</span><span class="small bold"><br></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">scrollControl⦂ expr<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">| dY onlyFirst butFirst onlyLast butLast x1 x2 y1 y2 y3 y4 k<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"Selection is highlighted.  Unhighlight it.  Invalidate my saved para if I scroll.  Then reselect selection, or deselect if it is no longer displayed."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">self compselection. dY &larr; self lineheight.<br></span><span class="tab" val="79"></span><span class="small">x1 &larr; window origin x. x2 &larr; window corner x.<br></span><span class="tab" val="79"></span><span class="small">y1 &larr; window origin y+2. y4 &larr; window height-4 |dY + y1. y2&larr;y1+dY. y3&larr;y4-dY.<br></span><span class="tab" val="79"></span><span class="small">onlyFirst &larr; x1+2⌾y1 rect: 2000⌾y2. butFirst &larr; x1⌾y2 rect: x2⌾y4.<br></span><span class="tab" val="79"></span><span class="small">onlyLast &larr; x1+2⌾y3 rect: 2000⌾y4. butLast &larr; x1⌾y1 rect: x2⌾y3.<br></span><span class="tab" val="79"></span><span class="small">while⦂ (k&larr;expr eval)≠0 do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[k&gt;0⇒[UpCursor topage1.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">self scrollBy⦂ expr eval copying: butFirst into: butLast showing: lastShown<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">in: onlyLast direction: 1⇒[] ⇑self select: selection]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">DownCursor topage1.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">self scrollBy⦂ expr eval copying: butLast into: butFirst showing: firstShown<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">in: onlyFirst direction: ¬1⇒[] ⇑self select: selection].<br></span><span class="tab" val="79"></span><span class="small">self select: selection]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">scrollUp: n </span><span class="small">| c<br></span><span class="tab" val="79"></span><span class="small">[c &larr; window origin x-20.<br></span><span class="tab" val="79"></span><span class="small">self scrollControl⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user buttons=4⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user mp x &gt; c⇒[2] ¬2]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">0]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selectionRect </span><span class="small">| h w<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"I have a selection.  Return its highlighting rectangle."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">(w &larr; window inset: 2) height &larr; h &larr; self lineheight. <br></span><span class="tab" val="79"></span><span class="small">⇑w + (0⌾(selection-firstShown *h))]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪ListPane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"ClassPane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;ClassPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: ListPane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;systemPane organizationPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;editmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a list pane that displays the names of all the classes of a category</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[editmenu &larr; Menu new string: &rsquo;filout<br>print<br>forget&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">from: systemPane to: organizationPane</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close<br></span><span class="tab" val="79"></span><span class="small">[systemPane &larr; nil. super close]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">["</span><span class="small italic">If there is a selection, let the user choose a command from the menu.</span><span class="small">"<br></span><span class="tab" val="79"></span><span class="small">selection=0⇒ [window flash]<br></span><span class="tab" val="79"></span><span class="small">editmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒ ["</span><span class="small italic">filout</span><span class="small">" (Smalltalk◦(list◦selection)) filout];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒ ["</span><span class="small italic">print</span><span class="small">" (Smalltalk◦(list◦selection)) printout];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=3⇒ ["</span><span class="small italic">forget</span><span class="small">" systemPane forget: list◦selection]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>ListPane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"I just lost my selection.  Tell organizationPane to display nothing."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">organizationPane class: nil.]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"My selection just changed.  Tell organizationPane to display the categories of my newly selected Class."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">organizationPane class: Smalltalk◦(list◦selection).]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Browser protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag<br></span><span class="tab" val="79"></span><span class="small">[systemPane compile: parag]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty<br></span><span class="tab" val="79"></span><span class="small">[⇑organizationPane dirty]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">noCode<br></span><span class="tab" val="79"></span><span class="small">[selection=0⇒ [⇑systemPane noCode] ⇑&rsquo;&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪ClassPane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">ClassPane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"Menu"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;Menu&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: Object<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;str text thisline frame&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;&rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a list of text lines one of which can be selected with the pointing device</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">rescan </span><span class="small italic">" | each. Menu allInstances notNil transform⦂ each to⦂ each rescan."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[self string: str]</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"rescan (for new fonts, lineheight)"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">string: str </span><span class="small">|  i pt tpara<br></span><span class="tab" val="79"></span><span class="small">[[str last≠13⇒[str&larr;str+&rsquo;<br>&rsquo;]].</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"make sure str ends with CR"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">text &larr; Textframe new para: (tpara &larr; str asParagraph)<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">frame:  (Rectangle new origin: (pt &larr;  0 ⌾ 0)<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">corner: 1000 ⌾ 1000).<br></span><span class="tab" val="79"></span><span class="small">pt &larr; text maxx: str length+1.<br></span><span class="tab" val="79"></span><span class="small">text frame growto: pt + (4 ⌾ 0).<br></span><span class="tab" val="79"></span><span class="small">tpara center.<br></span><span class="tab" val="79"></span><span class="small">frame &larr; text frame inset: ¬2  ⌾ ¬2.<br></span><span class="tab" val="79"></span><span class="small">thisline &larr; Rectangle new origin: text frame origin<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">corner: text frame corner x ⌾ text lineheight]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">stringFromVector: v </span><span class="small">| s<br></span><span class="tab" val="79"></span><span class="small">["DW classInit"<br></span><span class="tab" val="79"></span><span class="small">s &larr; Stream default.<br></span><span class="tab" val="79"></span><span class="small">for⦂ v from: v do⦂ [s append: v; cr].<br></span><span class="tab" val="79"></span><span class="small">self string: s contents]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>User interactions</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">bug </span><span class="small">| index bits<br></span><span class="tab" val="79"></span><span class="small">[bits &larr; self movingsetup.</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"set up and save background"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">index &larr; self bugit.</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"get the index"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">frame bitsFromString: bits.</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"restore background"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">⇑ index</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"return index"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">]<br></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">clear<br></span><span class="tab" val="79"></span><span class="small">[frame clear]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">fbug </span><span class="small">| index<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="tab" val="79"></span><span class="small italic">"for fixed menus"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">index &larr; self bugit.</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"get the index"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">⇑ index</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"return index"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">]<br></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">frame<br></span><span class="tab" val="79"></span><span class="small">[⇑ frame]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">has: pt<br></span><span class="tab" val="79"></span><span class="small">[⇑ text frame has: pt]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">moveto: pt<br></span><span class="tab" val="79"></span><span class="small">[self clear.<br></span><span class="tab" val="79"></span><span class="small">frame moveto: pt.<br></span><span class="tab" val="79"></span><span class="small">text frame moveto: pt+2.<br></span><span class="tab" val="79"></span><span class="small">thisline moveto: pt+2.<br></span><span class="tab" val="79"></span><span class="small">]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">rebug<br></span><span class="tab" val="79"></span><span class="small">[user waitbug. </span><span class="tab" val="79"></span><span class="small italic">"wait for button down again"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">⇑</span><span class="small italic">"bugcursor showwhile⦂"</span><span class="small"> self bug]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">show<br></span><span class="tab" val="79"></span><span class="small">[frame clear: black. text show.]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">wbug </span><span class="small">| index bits [<br></span><span class="tab" val="79"></span><span class="small">"save background, display menu"<br></span><span class="tab" val="79"></span><span class="small">bits &larr; self movingsetup.<br><br></span><span class="tab" val="79"></span><span class="small">"wait until a mouse button is down"<br></span><span class="tab" val="79"></span><span class="small">until⦂ user anybug do⦂ [].<br><br></span><span class="tab" val="79"></span><span class="small">"get selection (possibly 0)"<br></span><span class="tab" val="79"></span><span class="small">index &larr; self bugit.<br><br></span><span class="tab" val="79"></span><span class="small">"restore background"<br></span><span class="tab" val="79"></span><span class="small">frame bitsFromString: bits.<br></span><span class="tab" val="79"></span><span class="small">⇑ index<br></span><span class="tab" val="79"></span><span class="small">]<br></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">zbug </span><span class="small">| index bits<br></span><span class="tab" val="79"></span><span class="small">[bits &larr; self movingsetup.<br></span><span class="tab" val="79"></span><span class="small">while⦂ (index &larr; self bugit) = 0 do⦂ [].<br></span><span class="tab" val="79"></span><span class="small">frame bitsFromString: bits.<br></span><span class="tab" val="79"></span><span class="small">⇑ index<br></span><span class="tab" val="79"></span><span class="small">]<br></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Internal</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">bugit </span><span class="small">| pt bits<br></span><span class="tab" val="79"></span><span class="small">[user nobug ⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[⇑0]</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"accidental bug returns 0"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">thisline comp.<br></span><span class="tab" val="79"></span><span class="small">while⦂ true do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[text frame has: (pt &larr; user mp) ⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user anybug⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[thisline has: pt⇒[]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">pt &larr; text ptofpt: pt.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">thisline comp.</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"selection follows mouse"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">thisline moveto: text frame origin x  ⌾ pt y.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">thisline comp]<br><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">⇑1+ (thisline origin y-text frame origin y<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">/ text lineheight)</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"return index"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">thisline comp. </span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"he left the menu"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">until⦂ [text frame has: user mp] do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user nobug⇒[⇑0]] </span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"return 0 for abort"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">thisline comp]</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"he came back"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">movingsetup </span><span class="small">| pt bits<br></span><span class="tab" val="79"></span><span class="small">[pt &larr; user mp - thisline center.</span><span class="tab" val="79"></span><span class="small italic">"center prev item on mouse"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">text frame moveby: pt. thisline moveby: pt.<br></span><span class="tab" val="79"></span><span class="small">frame moveby: pt.<br></span><span class="tab" val="79"></span><span class="small">bits &larr; frame bitsIntoString.</span><span class="tab" val="79"></span><span class="small italic">"save background"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">frame clear: black. text show.<br></span><span class="tab" val="79"></span><span class="small">⇑ bits<br></span><span class="tab" val="79"></span><span class="small">]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪Menu under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"OrganizationPane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;OrganizationPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: ListPane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;classPane selectorPane class&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;editmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a list pane that displays the selector categories of a class.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">class: class<br></span><span class="tab" val="79"></span><span class="small">[self of: (self listFor: class)]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[editmenu &larr; Menu new string: &rsquo;filout<br>print&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">from: classPane to: selectorPane</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">listFor: class<br></span><span class="tab" val="79"></span><span class="small">[⇑[class≡nil⇒ [Vector new: 0]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">↪(ClassDefinition ClassOrganization) concat: class organization categories]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close<br></span><span class="tab" val="79"></span><span class="small">[classPane &larr; nil. super close]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">["If there is a selection, let the user choose a command from the menu."<br></span><span class="tab" val="79"></span><span class="small">selection≤1⇒ [window flash]</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">"Can&rsquo;t filout or print definition by itself"<br></span><span class="tab" val="79"></span><span class="small">editmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒ ["filout the selected category"<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">selection=2⇒ [class filoutOrganization]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">class filoutCategory: list◦selection];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒ ["print the selected category"<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">selection=2⇒ [window flash]</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">"Can&rsquo;t print organization"<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">class printoutCategory: list◦selection]<br></span><span class="tab" val="79"></span><span class="small">]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>ListPane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"I just lost my selection.  Tell selectorPane to display nothing."</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">selectorPane of: (Vector new: 0)]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected<br></span><span class="tab" val="79"></span><span class="small">[selectorPane of: [selection≤2⇒ [Vector new: 0] class organization category: list◦selection]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Browser protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">code: selector<br></span><span class="tab" val="79"></span><span class="small">[⇑class code: selector]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">| sel cat<br></span><span class="tab" val="79"></span><span class="small">[class≡nil or⦂ selection=1⇒ [classPane compile: parag] </span><span class="small italic">"new definition"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">selection=2⇒ [class organization fromParagraph: parag. self class: class] </span><span class="small italic">"new organization"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">cat &larr; [selection=0⇒ [&rsquo;As yet unclassified&rsquo;] list◦selection].<br></span><span class="tab" val="79"></span><span class="small">sel &larr; selectorPane compile: parag in: class under: cat⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[self revise: (self listFor: class) with: cat.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">selection≠0⇒ [selectorPane revise: (class organization category: cat) with: sel]]<br></span><span class="tab" val="79"></span><span class="small">⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty<br></span><span class="tab" val="79"></span><span class="small">[⇑selectorPane dirty]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">execute: parag<br></span><span class="tab" val="79"></span><span class="small">[⇑classⓢ parag]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">forget: selector </span><span class="small">| cat<br></span><span class="tab" val="79"></span><span class="small">[class derstands: selector.<br></span><span class="tab" val="79"></span><span class="small">cat &larr; list◦selection.<br></span><span class="tab" val="79"></span><span class="small">self revise: (self listFor: class) with: cat.<br></span><span class="tab" val="79"></span><span class="small">selection&gt;0⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[selectorPane revise: (class organization category: cat) with: selector]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">noCode<br></span><span class="tab" val="79"></span><span class="small">[class≡nil⇒ [⇑classPane noCode]<br></span><span class="tab" val="79"></span><span class="small">selection=0⇒ [⇑&rsquo;&rsquo;]; =1⇒ [⇑class definition]; =2⇒ [⇑class organization]<br></span><span class="tab" val="79"></span><span class="small">⇑&rsquo;Message name and Arguments | Temporary variables "short comment"<br></span><span class="tab" val="79"></span><span class="small">["long comment if necessary"<br></span><span class="tab" val="79"></span><span class="small">Smalltalk<br></span><span class="tab" val="79"></span><span class="small">Statements]&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">spawn: selector with: parag formerly: oldparag<br></span><span class="tab" val="79"></span><span class="small">[selectorPane compselection; select: 0.<br></span><span class="tab" val="79"></span><span class="small">class edit: selector para: parag formerly: oldparag]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪OrganizationPane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">OrganizationPane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"ScrollBar"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;ScrollBar&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: Object<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;rect bitstr owner position&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;DownCursor UpCursor JumpCursor &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a bar to the left of an awake window.  With the cursor in me I can make that window scroll.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[UpCursor &larr; Cursor new fromtext: &rsquo;<br>1000000000000000<br>1100000000000000<br>1110000000000000<br>1111000000000000<br>1111100000000000<br>1111110000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000&rsquo;.<br></span><span class="tab" val="79"></span><span class="small">DownCursor &larr; Cursor new fromtext: &rsquo;<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1100000000000000<br>1111110000000000<br>1111100000000000<br>1111000000000000<br>1110000000000000<br>1100000000000000<br>1000000000000000&rsquo;.<br></span><span class="tab" val="79"></span><span class="small">JumpCursor &larr; Cursor new fromtext: &rsquo;<br>0111000000000000<br>1111100000000000<br>1111100000000000<br>0111000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000<br>0000000000000000&rsquo; offset: 2⌾1]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">on: f from: o<br></span><span class="tab" val="79"></span><span class="small">[self on: f from: o at: o scrollPos]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">on: frame from: owner at: f<br></span><span class="tab" val="79"></span><span class="small">[rect &larr; Rectangle new<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">origin: frame origin-(32⌾2)<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">extent: 32⌾(frame height+4).<br></span><span class="tab" val="79"></span><span class="small">position &larr; Rectangle new<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">origin: rect origin+(9⌾4)<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">extent: 16⌾8.<br></span><span class="tab" val="79"></span><span class="small">self boxPosition&larr; f]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Scheduling</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close<br></span><span class="tab" val="79"></span><span class="small">[owner&larr;nil]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">eachtime </span><span class="small">| p cx r</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">"</span><span class="small italic">This needs to be restructured</span><span class="small">"<br></span><span class="tab" val="79"></span><span class="small">[rect has: (p&larr; user mp)⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[cx &larr; rect center x - 2.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">p x &lt; cx⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[r &larr; Rectangle new origin: rect origin corner: cx⌾rect maxY.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">DownCursor showwhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[while⦂ (r has: (p&larr;user mp)) do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[self slide: p⇒[owner scrollTo: (position minY-rect minY-4) asFloat/(rect height-12)]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user redbug⇒[self reposition⦂[owner scrollUp: rect origin y - p y]]]]]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">r &larr; Rectangle new origin: cx⌾rect minY corner: rect corner.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">UpCursor showwhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[while⦂ (r has: (p&larr;user mp)) do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[self slide: p⇒[owner scrollTo: (position minY-rect minY-4) asFloat/(rect height-12)]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">user redbug⇒[self reposition⦂[owner scrollUp: p y - rect origin y]]]]]<br></span><span class="tab" val="79"></span><span class="small">⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">firsttime</span><span class="tab" val="79"></span><span class="small bold"><br></span><span class="tab" val="79"></span><span class="small">[⇑rect has: user mp]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">lasttime</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">slide: p </span><span class="small">| bug<br></span><span class="tab" val="79"></span><span class="small">[position has: p⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[JumpCursor showwhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[bug &larr; false.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">while⦂ ((position has: user mp) and⦂ bug≡false) do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[user redbug⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[bug &larr; true.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">while⦂ user redbug do⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[self reshow⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[position moveto: position origin x⌾<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">((user mp y max: rect origin y+4) min: rect corner y-12)]]]]].<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">⇑bug]<br></span><span class="tab" val="79"></span><span class="small">⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Image</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">boxPosition&larr; f<br></span><span class="tab" val="79"></span><span class="small">[position moveto: rect origin+<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">(9⌾(4+(([f&lt;0.0⇒[0.0]; &gt;1.0⇒[1.0] f])*(rect height-16))))]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">hide </span><span class="tab" val="79"></span><span class="small">"</span><span class="small italic">restore background</span><span class="small">"<br></span><span class="tab" val="79"></span><span class="small">[bitstr≡nil⇒ [user notify: &rsquo;Attempt to hide unshown scrollbar&rsquo;]<br></span><span class="tab" val="79"></span><span class="small">rect bitsFromString: bitstr.<br></span><span class="tab" val="79"></span><span class="small">bitstr &larr; nil]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">hidewhile⦂ expr  </span><span class="small">| v<br></span><span class="tab" val="79"></span><span class="small">[self hide. v &larr; expr eval. self show. ⇑v]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">reposition⦂ expr<br></span><span class="tab" val="79"></span><span class="small">[self reshow⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[expr eval.  self boxPosition&larr; owner scrollPos]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">reshow⦂ expr </span><span class="small">| r<br></span><span class="tab" val="79"></span><span class="small">[r &larr; position inset: ¬2.  expr eval.<br></span><span class="tab" val="79"></span><span class="small">r clear: white.  position outline]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">show</span><span class="tab" val="79"></span><span class="small">"</span><span class="small italic">Save background and turn gray</span><span class="small">"<br></span><span class="tab" val="79"></span><span class="small">[bitstr &larr; rect bitsIntoString.<br></span><span class="tab" val="79"></span><span class="small">rect clear: black.<br></span><span class="tab" val="79"></span><span class="small">(rect inset: 2⌾2 and: 1⌾2) clear: white.<br></span><span class="tab" val="79"></span><span class="small">position outline]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪ScrollBar under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">ScrollBar classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"SelectorPane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;SelectorPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: ListPane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;organizationPane codePane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;editmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a ListPane whose entries are the message selectors of a category within a class.  Only organizationPane knows what the class and category are.  I make codePane display the code of my selected selector, if any.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[editmenu &larr; Menu new string:<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">&rsquo;spawn<br>forget&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">from: organizationPane to: codePane</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close<br></span><span class="tab" val="79"></span><span class="small">[organizationPane &larr; nil. super close]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[selection=0⇒ [window flash]<br></span><span class="tab" val="79"></span><span class="small">scrollBar hidewhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[editmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒ [organizationPane spawn: list◦selection with: codePane contents<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">formerly: codePane oldContents];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒ [organizationPane forget: list◦selection]]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>ListPane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected<br></span><span class="tab" val="79"></span><span class="small">[codePane showing: organizationPane noCode]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected<br></span><span class="tab" val="79"></span><span class="small">[codePane showing: (organizationPane code: list◦selection)]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Browser protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag<br></span><span class="tab" val="79"></span><span class="small">[⇑organizationPane compile: parag]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag in: class under: heading<br></span><span class="tab" val="79"></span><span class="small">[⇑codePane compile: parag in: class under: heading]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty<br></span><span class="tab" val="79"></span><span class="small">[⇑codePane dirty]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">execute: parseStream for: codePane<br></span><span class="tab" val="79"></span><span class="small">[⇑codePane execute: parseStream in: false to: nil]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪SelectorPane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SelectorPane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"StackPane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;StackPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: ListPane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;contextVarPane instanceVarPane codePane variables proceed&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;stackmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a list pane that displays one or all of the stack below a context in a notify window.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[stackmenu &larr; Menu new string:<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">&rsquo;stack<br>spawn<br>proceed<br>restart&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">context: contextVarPane at: level instance: instanceVarPane code: codePane<br></span><span class="tab" val="79"></span><span class="small">[variables &larr; (Vector new: 16) asStream.<br></span><span class="tab" val="79"></span><span class="small"> proceed≡nil⇒[proceed &larr; (false, nil, level)]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">context: contextVarPane instance: instanceVarPane code: codePane<br></span><span class="tab" val="79"></span><span class="small">[variables &larr; (Vector new: 16) asStream.<br></span><span class="tab" val="79"></span><span class="small"> proceed≡nil⇒[proceed &larr; (false, nil, Top currentPriority)]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">interrupt: flag<br></span><span class="tab" val="79"></span><span class="small">[proceed◦1 &larr; flag]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">close<br></span><span class="tab" val="79"></span><span class="small">[Top enable: proceed◦3. super close. list⇒ [(list◦1) releaseFully]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[scrollBar hidewhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[stackmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒ [</span><span class="small italic">"show a full backtrace"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small"> self revise: (list◦1) stack with: [selection=0⇒ [nil] list◦selection]];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒ [</span><span class="small italic">"spawn a code editor"</span><span class="small"> self spawn];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=3⇒ [</span><span class="small italic">"return to selected context"</span><span class="small"> self continue: false];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=4⇒ [</span><span class="small italic">"restart selected context"</span><span class="small"> self continue: true]]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>ListPane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected<br></span><span class="tab" val="79"></span><span class="small">[contextVarPane ≡ false⇒ []<br></span><span class="tab" val="79"></span><span class="small">codePane showing: &rsquo;&rsquo;.<br></span><span class="tab" val="79"></span><span class="small">contextVarPane names: (Vector new: 0) values: ↪(nil) wrt: false.<br></span><span class="tab" val="79"></span><span class="small">instanceVarPane names: (Vector new: 0) values: ↪(nil) wrt: false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">locked<br></span><span class="tab" val="79"></span><span class="small">[⇑contextVarPane and⦂ (selection&gt;0 and⦂ self dirty)]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected </span><span class="small">| context instance code safeVec<br></span><span class="tab" val="79"></span><span class="small">[contextVarPane ≡ false⇒ []<br></span><span class="tab" val="79"></span><span class="small">context &larr; list◦selection. instance &larr; context receiver.<br></span><span class="tab" val="79"></span><span class="small">Decompiler new findPC: context pc.<br></span><span class="tab" val="79"></span><span class="small">code &larr; self code.<br></span><span class="tab" val="79"></span><span class="small">codePane showing: [code⇒ [code] &rsquo;&rsquo;].<br></span><span class="tab" val="79"></span><span class="small">codePane selectRange: Decompiler new highlight.<br></span><span class="tab" val="79"></span><span class="small">variables reset. context variableNamesInto: self with: nil.<br></span><span class="tab" val="79"></span><span class="small">[code⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[contextVarPane names: (↪(thisContext) concat: variables contents)<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">values: (context, context tempframe) wrt: context.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small"> context tempframe≡nil⇒ [user notify: &rsquo;NIL TEMPFRAME&rsquo;]]<br></span><span class="tab" val="79"></span><span class="small"> contextVarPane names: ↪(thisContext) values: context inVector wrt: context].<br></span><span class="tab" val="79"></span><span class="small">variables reset. instance class fieldNamesInto: self.<br></span><span class="tab" val="79"></span><span class="small">safeVec &larr; Vector new: 2. safeVec all &larr; instance.<br></span><span class="tab" val="79"></span><span class="small">instanceVarPane names: (↪(self) concat: variables contents) values: safeVec wrt: context.<br></span><span class="tab" val="79"></span><span class="small">contextVarPane select: 1]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>NotifyWindow protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parseStream </span><span class="small">| ctxt selector method mcl<br></span><span class="tab" val="79"></span><span class="small">[ctxt &larr; list◦(selection max: 1). mcl &larr; ctxt mclass.<br></span><span class="tab" val="79"></span><span class="small"> proceed◦2 &larr; selector &larr;<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">codePane compile: parseStream in: mcl under: &rsquo;As yet unclassified&rsquo;⇒<br></span><span class="tab" val="79"></span><span class="small"> </span><span class="tab" val="79"></span><span class="small">[codePane reflects: selection⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[method &larr; mcl md methodorfalse: selector⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[self releaseAboveSelection.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small"> </span><span class="tab" val="79"></span><span class="small">ctxt restartWith: method. proceed◦1 &larr; true.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small"> </span><span class="tab" val="79"></span><span class="small">self of: list◦(selection to: list length) copy; select: 1]]]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty<br></span><span class="tab" val="79"></span><span class="small">[⇑codePane and⦂ codePane dirty]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">execute: parseStream for: codePane<br></span><span class="tab" val="79"></span><span class="small">[⇑proceed◦2 &larr;<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">codePane execute: parseStream in: [selection=0⇒ [false] list◦selection] to: nil]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Private</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">code </span><span class="small">| mclass selector </span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"code of my selected context"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[mclass &larr; (list ◦ selection) mclass.<br></span><span class="tab" val="79"></span><span class="small">selector &larr; self selector.<br></span><span class="tab" val="79"></span><span class="small">⇑(mclass canunderstand: selector) and⦂ (mclass code: selector)]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">comment: s</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"called by selected via Class fieldNamesInto"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">contents</span><span class="tab" val="79"></span><span class="small italic">"called by selected via Class fieldNamesInto"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">continue: restarting </span><span class="small">| ctxt<br></span><span class="tab" val="79"></span><span class="small">[</span><span class="small italic">"Close my window and resume my selected context, if any, else my first context.  If interrupted (proceed◦1) or restarting or a recompiled method, don&rsquo;t return a value; otherwise, return proceed◦2."<br></span><span class="tab" val="79"></span><span class="small">[user leftShiftKey ⇒[mem◦067 &larr; 58 "turn display off"]].<br></span><span class="tab" val="79"></span><span class="small">[selection=0⇒ [selection&larr;1]].<br></span><span class="tab" val="79"></span><span class="small">ctxt &larr; list◦selection.<br></span><span class="tab" val="79"></span><span class="small">self releaseAboveSelection.</span><span class="tab" val="79"></span><span class="small italic">"release abandoned contexts"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[restarting⇒ [ctxt restart]<br></span><span class="tab" val="79"></span><span class="small"> proceed◦1 and: selection=1⇒ [</span><span class="small italic">"resume after interrupt"</span><span class="small">]<br></span><span class="tab" val="79"></span><span class="small"> ctxt push: proceed◦2].<br></span><span class="tab" val="79"></span><span class="small">list &larr; false. </span><span class="small italic">"Inhibit me closing."</span><span class="small"> user topWindow vanish.<br></span><span class="tab" val="79"></span><span class="small">list &larr; nil.<br></span><span class="tab" val="79"></span><span class="small">[proceed◦3=1⇒[thisContext sender release]].<br></span><span class="tab" val="79"></span><span class="small">Top run: ctxt at: proceed◦3.<br></span><span class="tab" val="79"></span><span class="small">Top enable: proceed◦3.<br></span><span class="tab" val="79"></span><span class="small">Top wakeup: proceed◦3.<br></span><span class="tab" val="79"></span><span class="small">Top resetCurrent]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">declaration: dummy1 name: string asArg: dummy2<br></span><span class="tab" val="79"></span><span class="small">[variables next &larr; string]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">identifier: s</span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small italic">"called by selected via Class fieldNamesInto"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[variables next &larr; s]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">notify: msg </span><span class="small italic">"selected context doesnt know its variables"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">releaseAboveSelection<br></span><span class="tab" val="79"></span><span class="small">[[selection&gt;1⇒ [(list◦(selection-1)) sender &larr; nil. (list◦1) release</span><span class="small italic">"Fully"</span><span class="small">]].<br></span><span class="tab" val="79"></span><span class="small">(list◦(selection max: 1)) verifyFrames]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selector </span><span class="small">| context<br></span><span class="tab" val="79"></span><span class="small">[context &larr; list◦(selection max: 1).<br></span><span class="tab" val="79"></span><span class="small">⇑[context sender≡nil⇒ [false] context selector]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">separator: c</span><span class="tab" val="79"></span><span class="small italic">"called by selected via Class fieldNamesInto"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">spawn </span><span class="small">| mclass selector parag oldparag<br></span><span class="tab" val="79"></span><span class="small">[mclass &larr; (list◦(selection max: 1)) mclass.<br></span><span class="tab" val="79"></span><span class="small">selector &larr; self selector.<br></span><span class="tab" val="79"></span><span class="small">parag &larr; [codePane⇒ [codePane contents] mclass canunderstand: selector⇒ [mclass code: selector] &rsquo;&rsquo;].<br></span><span class="tab" val="79"></span><span class="small">oldparag &larr; [codePane⇒ [codePane oldContents] false].<br></span><span class="tab" val="79"></span><span class="small">self compselection; select: 0.<br></span><span class="tab" val="79"></span><span class="small">mclass edit: selector para: parag formerly: oldparag]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">terminate </span><span class="small italic">"called by parser close during initialization"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">trailer: s</span><span class="tab" val="79"></span><span class="small italic">"called by selected via Class fieldNamesInto"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪StackPane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">StackPane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"SystemPane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;SystemPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: ListPane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;mySysOrgVersion classPane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;sysmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a list pane in which all the system categories are displayed.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[sysmenu &larr; Menu new string: &rsquo;filout<br>print&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">to: classPane</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">update<br></span><span class="tab" val="79"></span><span class="small">[self of: (↪(AllClasses SystemOrganization) concat: SystemOrganization categories). mySysOrgVersion&larr;user classNames]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">enter</span><span class="tab" val="79"></span><span class="small bold"> </span><span class="small italic">"be sure I am up to date"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[mySysOrgVersion≡user classNames⇒ [super enter]<br></span><span class="tab" val="79"></span><span class="small">window outline. self update. super enter]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">leave</span><span class="tab" val="79"></span><span class="small bold"> </span><span class="small italic">"I am up to date"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[mySysOrgVersion &larr; user classNames. super leave]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[selection&lt;3⇒[window flash]<br></span><span class="tab" val="79"></span><span class="small">scrollBar hidewhile⦂<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[sysmenu bug<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=1⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[SystemOrganization filoutCategory: list◦selection];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">=2⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[SystemOrganization printCategory: list◦selection]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">]<br></span><span class="tab" val="79"></span><span class="small">]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>ListPane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected<br></span><span class="tab" val="79"></span><span class="small">[classPane of: (Vector new: 0)]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected<br></span><span class="tab" val="79"></span><span class="small">[classPane of: self classes]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Browser protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classes </span><span class="small italic">"return a Vector of the classes in my selected category"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">[selection</span><span class="tab" val="79"></span><span class="small">=1⇒ [⇑user classNames];<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">≤2⇒ [⇑Vector new: 0]<br></span><span class="tab" val="79"></span><span class="small">⇑SystemOrganization category: list◦selection]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">| class cat className<br></span><span class="tab" val="79"></span><span class="small">[selection=2⇒ [SystemOrganization fromParagraph: parag. self update] </span><span class="small italic">"new organization"</span><span class="small"><br></span><span class="tab" val="79"></span><span class="small">cat &larr; [selection≤1⇒ [false] list◦selection].<br></span><span class="tab" val="79"></span><span class="small">class &larr; nilⓢparag.<br></span><span class="tab" val="79"></span><span class="small">class Is: Class⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[className &larr; class title unique.<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[cat⇒ [SystemOrganization classify: className under: cat]].<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">mySysOrgVersion≡user classNames⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[selection&gt;0⇒<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">[classPane of: [cat⇒ [SystemOrganization category: cat] user classNames]]]<br></span><span class="tab" val="79"></span><span class="tab" val="79"></span><span class="small">self update]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">dirty<br></span><span class="tab" val="79"></span><span class="small">[⇑classPane dirty]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">forget: className<br></span><span class="tab" val="79"></span><span class="small">[user notify: &rsquo;Class &rsquo;+className+&rsquo; will disappear if you proceed...&rsquo;.<br></span><span class="tab" val="79"></span><span class="small">(Smalltalk◦className) noChanges; obsolete. Smalltalk delete: className.<br></span><span class="tab" val="79"></span><span class="small">SystemOrganization delete: className.<br></span><span class="tab" val="79"></span><span class="small">AllClassNames &larr; AllClassNames delete: className.<br></span><span class="tab" val="79"></span><span class="small">classPane revise: self classes with: className]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">noCode<br></span><span class="tab" val="79"></span><span class="small">[selection=0⇒ [⇑&rsquo;&rsquo;]; =2⇒ [⇑SystemOrganization]<br></span><span class="tab" val="79"></span><span class="small">⇑&rsquo;Class new title: &rsquo;&rsquo;NameOfClass&rsquo;&rsquo;<br></span><span class="tab" val="79"></span><span class="small">subclassof: Object<br></span><span class="tab" val="79"></span><span class="small">fields: &rsquo;&rsquo;names of fields&rsquo;&rsquo;<br></span><span class="tab" val="79"></span><span class="small">declare: &rsquo;&rsquo;names of class variables&rsquo;&rsquo;&rsquo; copy]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪SystemPane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemPane classInit</span></div>
<div style="width: 141pt; margin-left: 425pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>"VariablePane"</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold">Class new title: &rsquo;VariablePane&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">subclassof: ListPane<br></span><span class="tab" val="79"></span><span class="medium bold">fields: &rsquo;valuePane values context&rsquo;<br></span><span class="tab" val="79"></span><span class="medium bold">declare: &rsquo;varmenu &rsquo;;<br></span><span class="tab" val="79"></span><span class="medium bold">asFollows</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small italic"><br>I am a list pane that displays the names of variables in a context or instance.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Initialization</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">classInit<br></span><span class="tab" val="79"></span><span class="small">[varmenu &larr; Menu new string: &rsquo;inspect&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">names: vars values: values wrt: context<br></span><span class="tab" val="79"></span><span class="small">[self of: vars]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">to: valuePane<br></span><span class="tab" val="79"></span><span class="small">[]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Window protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">yellowbug<br></span><span class="tab" val="79"></span><span class="small">[selection=0⇒ [window flash]<br></span><span class="tab" val="79"></span><span class="small">scrollBar hidewhile⦂ [varmenu bug =1⇒ [self value inspect]]]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>ListPane protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">deselected<br></span><span class="tab" val="79"></span><span class="small">[valuePane showing: &rsquo;&rsquo;]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">selected<br></span><span class="tab" val="79"></span><span class="small">[valuePane showing: self value asString]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Notify/Inspect protocol</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">compile: parag<br></span><span class="tab" val="79"></span><span class="small">[window flash. ⇑false]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">execute: parseStream for: valuePane<br></span><span class="tab" val="79"></span><span class="small">[⇑valuePane execute: parseStream in: context to: values◦1]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="medium bold"><br>Private</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small bold">value<br></span><span class="tab" val="79"></span><span class="small">[selection=1⇒ [⇑values◦1] ⇑(values◦2) inspectfield: selection-1]</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small"></span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">SystemOrganization classify: ↪VariablePane under: &rsquo;Panes and Menus&rsquo;.</span></div>
<div style="width: 442pt; margin-left: 84pt; margin-top: 0pt; text-align: left">
<span class="small">VariablePane classInit</span></div>
  </body>
</html>
